!function(L){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=L();else if("function"==typeof define&&define.amd)define([],L);else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof global?a=global:"undefined"!=typeof self&&(a=self);a.virtualDom=L()}}(function(){return function a(b,e,f){function p(m,r){if(!e[m]){if(!b[m]){var h="function"==typeof require&&require;if(!r&&h)return h(m,!0);if(l)return l(m,!0);h=Error("Cannot find module '"+m+"'");throw h.code="MODULE_NOT_FOUND",
h;}h=e[m]={exports:{}};b[m][0].call(h.exports,function(c){var a=b[m][1][c];return p(a?a:c)},h,h.exports,a,b,e,f)}return e[m].exports}for(var l="function"==typeof require&&require,n=0;n<f.length;n++)p(f[n]);return p}({1:[function(a,b,e){a=a("./vdom/create-element.js");b.exports=a},{"./vdom/create-element.js":15}],2:[function(a,b,e){a=a("./vtree/diff.js");b.exports=a},{"./vtree/diff.js":35}],3:[function(a,b,e){a=a("./virtual-hyperscript/index.js");b.exports=a},{"./virtual-hyperscript/index.js":22}],
4:[function(a,b,e){e=a("./diff.js");var f=a("./patch.js"),p=a("./h.js");a=a("./create-element.js");b.exports={diff:e,patch:f,h:p,create:a}},{"./create-element.js":1,"./diff.js":2,"./h.js":3,"./patch.js":13}],5:[function(a,b,e){b.exports=function(a){var b=String.prototype.split,l=/()??/.exec("")[1]===a;return function(n,m,r){if("[object RegExp]"!==Object.prototype.toString.call(m))return b.call(n,m,r);var h=[],c=(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.extended?"x":"")+(m.sticky?"y":""),g=0;m=
new RegExp(m.source,c+"g");var q,d,k;n+="";l||(q=new RegExp("^"+m.source+"$(?!\\s)",c));for(r=r===a?4294967295:r>>>0;d=m.exec(n);){c=d.index+d[0].length;if(c>g&&(h.push(n.slice(g,d.index)),!l&&1<d.length&&d[0].replace(q,function(){for(var c=1;c<arguments.length-2;c++)arguments[c]===a&&(d[c]=a)}),1<d.length&&d.index<n.length&&Array.prototype.push.apply(h,d.slice(1)),k=d[0].length,g=c,h.length>=r))break;m.lastIndex===d.index&&m.lastIndex++}g===n.length?!k&&m.test("")||h.push(""):h.push(n.slice(g));
return h.length>r?h.slice(0,r):h}}()},{}],6:[function(a,b,e){},{}],7:[function(a,b,e){a("individual/one-version")("ev-store","7");b.exports=function(a){var b=a["__EV_STORE_KEY@7"];b||(b=a["__EV_STORE_KEY@7"]={});return b}},{"individual/one-version":9}],8:[function(a,b,e){(function(a){var p="undefined"!==typeof window?window:"undefined"!==typeof a?a:{};b.exports=function(a,f){return a in p?p[a]:p[a]=f}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{}],9:[function(a,b,e){var f=a("./index.js");b.exports=function(a,b,n){var m="__INDIVIDUAL_ONE_VERSION_"+a,r=f(m+"_ENFORCE_SINGLETON",b);if(r!==b)throw Error("Can only have one copy of "+a+".\nYou already have version "+r+" installed.\nThis means you cannot install version "+b);return f(m,n)}},{"./index.js":8}],10:[function(a,b,e){e="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{};e="undefined"!==typeof e?e:"undefined"!==typeof window?
window:{};a=a("min-document");if("undefined"!==typeof document)b.exports=document;else{var f=e["__GLOBAL_DOCUMENT_CACHE@4"];f||(f=e["__GLOBAL_DOCUMENT_CACHE@4"]=a);b.exports=f}},{"min-document":6}],11:[function(a,b,e){b.exports=function(a){return"object"===typeof a&&null!==a}},{}],12:[function(a,b,e){function f(a){return"[object Array]"===p.call(a)}var p=Object.prototype.toString;b.exports=Array.isArray||f},{}],13:[function(a,b,e){a=a("./vdom/patch.js");b.exports=a},{"./vdom/patch.js":18}],14:[function(a,
b,e){function f(a,f,h,c){if(c)if(c=c[f],n(c))c.unhook&&c.unhook(a,f,h);else if("attributes"===f)for(var g in c)a.removeAttribute(g);else if("style"===f)for(var b in c)a.style[b]="";else a[f]="string"===typeof c?"":null}function p(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var l=a("is-object"),n=a("../vnode/is-vhook.js");b.exports=function(a,b,h){for(var c in b){var g=b[c];if(void 0===g)f(a,c,g,h);else if(n(g))f(a,
c,g,h),g.hook&&g.hook(a,c,h?h[c]:void 0);else if(l(g)){var q=a,d=c,k=h?h[d]:void 0;if("attributes"===d)for(d in d=void 0,g)k=g[d],void 0===k?q.removeAttribute(d):q.setAttribute(d,k);else if(k&&l(k)&&p(k)!==p(g))q[d]=g;else{l(q[d])||(q[d]={});var k="style"===d?"":void 0,e=void 0;for(e in g){var u=g[e];q[d][e]=void 0===u?k:u}}}else a[c]=g}}},{"../vnode/is-vhook.js":26,"is-object":11}],15:[function(a,b,e){function f(a,g){var b=g?g.document||p:p,d=g?g.warn:null;a=h(a).a;if(r(a))return a.init();if(m(a))return b.createTextNode(a.text);
if(!n(a))return d&&d("Item is not a valid virtual dom node",a),null;b=null===a.namespace?b.createElement(a.tagName):b.createElementNS(a.namespace,a.tagName);l(b,a.properties);for(var d=a.children,k=0;k<d.length;k++){var e=f(d[k],g);e&&b.appendChild(e)}return b}var p=a("global/document"),l=a("./apply-properties"),n=a("../vnode/is-vnode.js"),m=a("../vnode/is-vtext.js"),r=a("../vnode/is-widget.js"),h=a("../vnode/handle-thunk.js");b.exports=f},{"../vnode/handle-thunk.js":24,"../vnode/is-vnode.js":27,
"../vnode/is-vtext.js":28,"../vnode/is-widget.js":29,"./apply-properties":14,"global/document":10}],16:[function(a,b,e){function f(a,b,h,c,g){c=c||{};if(a){p(h,g,g)&&(c[g]=a);var q=b.children;if(q){a=a.childNodes;for(var d=0;d<b.children.length;d++){g+=1;var k=q[d]||n,e=g+(k.count||0);p(h,g,e)&&f(a[d],k,h,c,g);g=e}}}return c}function p(a,f,h){if(0===a.length)return!1;for(var c=0,g=a.length-1,b,d;c<=g;){b=(g+c)/2>>0;d=a[b];if(c===g)return d>=f&&d<=h;if(d<f)c=b+1;else if(d>h)g=b-1;else return!0}return!1}
function l(a,b){return a>b?1:-1}var n={};b.exports=function(a,b,h,c){return h&&0!==h.length?(h.sort(l),f(a,b,h,c,0)):{}}},{}],17:[function(a,b,e){function f(a,c){"function"===typeof c.destroy&&l(c)&&c.destroy(a)}var p=a("./apply-properties"),l=a("../vnode/is-widget.js"),n=a("../vnode/vpatch.js"),m=a("./create-element"),r=a("./update-widget");b.exports=function(a,c,g){var b=a.vNode,d=a.patch;switch(a.type){case n.REMOVE:return(d=c.parentNode)&&d.removeChild(c),f(c,b),null;case n.INSERT:return d=m(d,
g),c&&c.appendChild(d),c;case n.VTEXT:return 3===c.nodeType?(c.replaceData(0,c.length,d.text),d=c):(b=c.parentNode,d=m(d,g),b&&b.replaceChild(d,c)),d;case n.WIDGET:return d=(a=r(b,d))?d.update(b,c)||c:m(d,g),(g=c.parentNode)&&d!==c&&g.replaceChild(d,c),a||f(c,b),d;case n.VNODE:return b=c.parentNode,d=m(d,g),b&&b.replaceChild(d,c),d;case n.ORDER:b=[];g=c.childNodes;a=g.length;var k,e=d.reverse;for(k=0;k<a;k++)b.push(c.childNodes[k]);var l=0,v,t,E,D,M;for(k=0;k<a;){v=d[k];D=1;if(void 0!==v&&v!==k){for(;d[k+
D]===v+D;)D++;e[k]>k+D&&l++;t=b[v];E=g[k+l]||null;for(M=0;t!==E&&M++<D;)c.insertBefore(t,E),t=b[v+M];v+D<k&&l--}k in d.removes&&l++;k+=D}return c;case n.PROPS:return p(c,d,b.properties),c;case n.THUNK:return d=g.patch(c,d,g),c&&d&&c!==d&&c.parentNode&&(console.log(c),c.parentNode.replaceChild(d,c)),d;default:return c}}},{"../vnode/is-widget.js":29,"../vnode/vpatch.js":32,"./apply-properties":14,"./create-element":15,"./update-widget":19}],18:[function(a,b,e){function f(a,b,c){var g=[],e;for(e in b)"a"!==
e&&g.push(Number(e));if(0===g.length)return a;e=n(a,b.a,g);var d=a.ownerDocument;c||(c={patch:f},d!==p&&(c.document=d));for(d=0;d<g.length;d++){var k=g[d];var w=e[k],k=b[k],u=c;if(w){var v=void 0;if(l(k))for(var t=0;t<k.length;t++)v=m(k[t],w,u),w===a&&(a=v);else v=m(k,w,u),w===a&&(a=v)}}return a}var p=a("global/document"),l=a("x-is-array"),n=a("./dom-index"),m=a("./patch-op");b.exports=function(a,b){return f(a,b)}},{"./dom-index":16,"./patch-op":17,"global/document":10,"x-is-array":12}],19:[function(a,
b,e){var f=a("../vnode/is-widget.js");b.exports=function(a,b){return f(a)&&f(b)?"name"in a&&"name"in b?a.id===b.id:a.init===b.init:!1}},{"../vnode/is-widget.js":29}],20:[function(a,b,e){function f(a){if(!(this instanceof f))return new f(a);this.value=a}var p=a("ev-store");b.exports=f;f.prototype.hook=function(a,b){var f=p(a),e=b.substr(3);f[e]=this.value};f.prototype.unhook=function(a,b){var f=p(a),e=b.substr(3);f[e]=void 0}},{"ev-store":7}],21:[function(a,b,e){function f(a){if(!(this instanceof f))return new f(a);
this.value=a}b.exports=f;f.prototype.hook=function(a,b){a[b]!==this.value&&(a[b]=this.value)}},{}],22:[function(a,b,e){function f(a,b,c,g){if("string"===typeof a)b.push(new r(a));else if(p(a))b.push(a);else if(n(a))for(var d=0;d<a.length;d++)f(a[d],b,c,g);else if(null!==a&&void 0!==a)throw b={tagName:c,properties:g},c=Error(),c.type="virtual-hyperscript.unexpected.virtual-element",c.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+l(a)+".\nThe parent vnode is:\n"+
l(b),"\nSuggested fix: change your `h(..., [ ... ])` callsite.",c.foreignObject=a,c.parentVnode=b,c;}function p(a){return h(a)||c(a)||g(a)||d(a)}function l(a){try{return JSON.stringify(a,null,"    ")}catch(b){return String(a)}}var n=a("x-is-array"),m=a("../vnode/vnode.js"),r=a("../vnode/vtext.js"),h=a("../vnode/is-vnode"),c=a("../vnode/is-vtext"),g=a("../vnode/is-widget"),q=a("../vnode/is-vhook"),d=a("../vnode/is-thunk"),k=a("./parse-tag.js"),w=a("./hooks/soft-set-hook.js"),u=a("./hooks/ev-hook.js");
b.exports=function(a,b,c){var g=[],d,h,e,l;if(l=!c)l="string"===typeof b||n(b)||p(b);l&&(c=b,d={});d=d||b||{};a=k(a,d);d.hasOwnProperty("key")&&(h=d.key,d.key=void 0);d.hasOwnProperty("namespace")&&(e=d.namespace,d.namespace=void 0);"INPUT"!==a||e||!d.hasOwnProperty("value")||void 0===d.value||q(d.value)||(d.value=w(d.value));b=d;for(var r in b)b.hasOwnProperty(r)&&(l=b[r],q(l)||"ev-"===r.substr(0,3)&&(b[r]=u(l)));void 0!==c&&null!==c&&f(c,g,a,d);return new m(a,d,g,h,e)}},{"../vnode/is-thunk":25,
"../vnode/is-vhook":26,"../vnode/is-vnode":27,"../vnode/is-vtext":28,"../vnode/is-widget":29,"../vnode/vnode.js":31,"../vnode/vtext.js":33,"./hooks/ev-hook.js":20,"./hooks/soft-set-hook.js":21,"./parse-tag.js":23,"x-is-array":12}],23:[function(a,b,e){var f=a("browser-split"),p=/([\.#]?[a-zA-Z0-9_:-]+)/,l=/^\.|#/;b.exports=function(a,b){if(!a)return"DIV";var e=!b.hasOwnProperty("id"),h=f(a,p),c=null;l.test(h[1])&&(c="DIV");var g,q,d,k;for(k=0;k<h.length;k++)if(q=h[k])(d=q.charAt(0),c)?"."===d?(g=g||
[],g.push(q.substring(1,q.length))):"#"===d&&e&&(b.id=q.substring(1,q.length)):c=q;g&&(b.className&&g.push(b.className),b.className=g.join(" "));return b.namespace?c:c.toUpperCase()}},{"browser-split":5}],24:[function(a,b,e){function f(a,b){var c=a.vnode;c||(c=a.vnode=a.render(b));if(!(p(c)||l(c)||n(c)))throw Error("thunk did not return a valid node");return c}var p=a("./is-vnode"),l=a("./is-vtext"),n=a("./is-widget"),m=a("./is-thunk");b.exports=function(a,b){var c=a,g=b;m(b)&&(g=f(b,a));m(a)&&(c=
f(a,null));return{a:c,b:g}}},{"./is-thunk":25,"./is-vnode":27,"./is-vtext":28,"./is-widget":29}],25:[function(a,b,e){b.exports=function(a){return a&&"Thunk"===a.type}},{}],26:[function(a,b,e){b.exports=function(a){return a&&("function"===typeof a.hook&&!a.hasOwnProperty("hook")||"function"===typeof a.unhook&&!a.hasOwnProperty("unhook"))}},{}],27:[function(a,b,e){var f=a("./version");b.exports=function(a){return a&&"VirtualNode"===a.type&&a.version===f}},{"./version":30}],28:[function(a,b,e){var f=
a("./version");b.exports=function(a){return a&&"VirtualText"===a.type&&a.version===f}},{"./version":30}],29:[function(a,b,e){b.exports=function(a){return a&&"Widget"===a.type}},{}],30:[function(a,b,e){b.exports="1"},{}],31:[function(a,b,e){function f(a,b,f,d,e){this.tagName=a;this.properties=b||r;this.children=f||h;this.key=null!=d?String(d):void 0;this.namespace="string"===typeof e?e:null;a=f&&f.length||0;d=0;var w=e=!1,u=!1,v,t;for(t in b)if(b.hasOwnProperty(t)){var E=b[t];m(E)&&E.unhook&&(v||(v=
{}),v[t]=E)}for(b=0;b<a;b++)t=f[b],p(t)?(d+=t.count||0,!e&&t.hasWidgets&&(e=!0),!w&&t.hasThunks&&(w=!0),u||!t.hooks&&!t.descendantHooks||(u=!0)):!e&&l(t)?"function"===typeof t.destroy&&(e=!0):!w&&n(t)&&(w=!0);this.count=a+d;this.hasWidgets=e;this.hasThunks=w;this.hooks=v;this.descendantHooks=u}e=a("./version");var p=a("./is-vnode"),l=a("./is-widget"),n=a("./is-thunk"),m=a("./is-vhook");b.exports=f;var r={},h=[];f.prototype.version=e;f.prototype.type="VirtualNode"},{"./is-thunk":25,"./is-vhook":26,
"./is-vnode":27,"./is-widget":29,"./version":30}],32:[function(a,b,e){function f(a,b,f){this.type=Number(a);this.vNode=b;this.patch=f}a=a("./version");f.NONE=0;f.VTEXT=1;f.VNODE=2;f.WIDGET=3;f.PROPS=4;f.ORDER=5;f.INSERT=6;f.REMOVE=7;f.THUNK=8;b.exports=f;f.prototype.version=a;f.prototype.type="VirtualPatch"},{"./version":30}],33:[function(a,b,e){function f(a){this.text=String(a)}a=a("./version");b.exports=f;f.prototype.version=a;f.prototype.type="VirtualText"},{"./version":30}],34:[function(a,b,e){function f(a,
b){var e,c;for(c in a){c in b||(e=e||{},e[c]=void 0);var g=a[c],q=b[c];if(g!==q)if(l(g)&&l(q))if(p(q)!==p(g))e=e||{},e[c]=q;else if(n(q))e=e||{},e[c]=q;else{if(g=f(g,q))e=e||{},e[c]=g}else e=e||{},e[c]=q}for(var d in b)d in a||(e=e||{},e[d]=b[d]);return e}function p(a){if(Object.getPrototypeOf)return Object.getPrototypeOf(a);if(a.__proto__)return a.__proto__;if(a.constructor)return a.constructor.prototype}var l=a("is-object"),n=a("../vnode/is-vhook");b.exports=f},{"../vnode/is-vhook":26,"is-object":11}],
35:[function(a,b,e){function f(a,b){var c={a:a};p(a,b,c,0);return c}function p(a,b,c,e){if(a!==b){var f=c[e],H=!1;if(w(a)||w(b))n(a,b,c,e);else if(null==b)k(a)||(m(a,c,e),l(a,c,e),f=c[e]),f=h(f,new g(g.REMOVE,a,b));else if(q(b))if(q(a))if(a.tagName===b.tagName&&a.namespace===b.namespace&&a.key===b.key){var u=v(a.properties,b.properties);u&&(f=h(f,new g(g.PROPS,a,u)));var u=e,J=a.children;b=b.children;var z=r(b);if(z){var A=r(J);if(A){var F={},B={},x;for(x in z)F[z[x]]=A[x];for(var y in A)B[A[y]]=
z[y];x=J.length;y=b.length;x=x>y?x:y;y=[];for(var C=A=z=0,I={},O=I.removes={},N=I.reverse={},K=!1;z<x;){var G=B[A];if(void 0!==G)y[A]=b[G],G!==C&&(I[G]=C,N[C]=G,K=!0),C++;else if(A in B)y[A]=void 0,O[A]=C++,K=!0;else{for(;void 0!==F[z];)z++;if(z<x){if(G=b[z])y[A]=G,z!==C&&(K=!0,I[z]=C,N[C]=z),C++;z++}}A++}K&&(y.moves=I);b=y}}F=J.length;B=b.length;F=F>B?F:B;for(B=0;B<F;B++)x=J[B],y=b[B],u+=1,x?p(x,y,c,u):y&&(f=h(f,new g(g.INSERT,null,y))),q(x)&&x.count&&(u+=x.count);b.moves&&(f=h(f,new g(g.ORDER,a,
b.moves)))}else f=h(f,new g(g.VNODE,a,b)),H=!0;else f=h(f,new g(g.VNODE,a,b)),H=!0;else d(b)?d(a)?a.text!==b.text&&(f=h(f,new g(g.VTEXT,a,b))):(f=h(f,new g(g.VTEXT,a,b)),H=!0):k(b)&&(k(a)||(H=!0),f=h(f,new g(g.WIDGET,a,b)));f&&(c[e]=f);H&&(m(a,c,e),l(a,c,e))}}function l(a,b,c){if(k(a))"function"===typeof a.destroy&&(b[c]=h(b[c],new g(g.REMOVE,a,null)));else if(q(a)&&(a.hasWidgets||a.hasThunks)){a=a.children;for(var f=a.length,d=0;d<f;d++){var e=a[d];c+=1;l(e,b,c);q(e)&&e.count&&(c+=e.count)}}else w(a)&&
n(a,null,b,c)}function n(a,b,c,d){a=u(a,b);a=f(a.a,a.b);var e;a:{for(e in a)if("a"!==e){e=!0;break a}e=!1}e&&(c[d]=new g(g.THUNK,null,a))}function m(a,b,c){if(q(a)){if(a.hooks){var d=b[c],f=g.PROPS,e=a.hooks,k={},l;for(l in e)k[l]=void 0;b[c]=h(d,new g(f,a,k))}if(a.descendantHooks||a.hasThunks)for(a=a.children,d=a.length,f=0;f<d;f++)e=a[f],c+=1,m(e,b,c),q(e)&&e.count&&(c+=e.count)}else w(a)&&n(a,null,b,c)}function r(a){var b,c;for(b=0;b<a.length;b++){var d=a[b];void 0!==d.key&&(c=c||{},c[d.key]=b)}return c}
function h(a,b){return a?(c(a)?a.push(b):a=[a,b],a):b}var c=a("x-is-array"),g=a("../vnode/vpatch"),q=a("../vnode/is-vnode"),d=a("../vnode/is-vtext"),k=a("../vnode/is-widget"),w=a("../vnode/is-thunk"),u=a("../vnode/handle-thunk"),v=a("./diff-props");b.exports=f},{"../vnode/handle-thunk":24,"../vnode/is-thunk":25,"../vnode/is-vnode":27,"../vnode/is-vtext":28,"../vnode/is-widget":29,"../vnode/vpatch":32,"./diff-props":34,"x-is-array":12}]},{},[4])(4)});
